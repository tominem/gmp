<html 	xmlns	="http://www.w3.org/1999/xhtml"
		xmlns:h	="http://java.sun.com/jsf/html"
		xmlns:f	="http://java.sun.com/jsf/core"
		xmlns:p	="http://primefaces.org/ui">

    <h:head>

        <f:facet name="first">
    		<meta charset	=	"UTF-8" />
        </f:facet>
        
        <title>Pesquisar Tipo Componente</title>
    </h:head>
    
     
    <h:body>

	    <style type="text/css">
	    
	    	.Wid10{ width:10%;}
	    	.Wid90{ width:90%;}
	    
	    </style>

		
        <h:form id	=	"formPesquisarTpComponente">
			
			<p:focus context	=	"panelGridBusca" />
						
			
			<h:panelGrid 		columns			=	"2"
								id				= 	"panelGridBusca" 
								columnClasses	=	"Wid90, Wid10">
				
				<p:outputLabel	for				=	"criterioBusca" 
								value			=	"Informe o nome para consultar o tipo de componente desejado"></p:outputLabel>

				<p:outputLabel 	for				=	"selOneSituacao" 
								value			=	"Situação">
				</p:outputLabel>
				
				<p:inputText 	id				=	"criterioBusca" 
								value			=	"#{mbPesquisarTpComponente.descBusca}"
								required		=	"false"
								style			=	"width: 100%">
					
					<p:ajax		event			=	"keyup" 
								update			=	"panelGridTable" 
								listener		=	"#{mbPesquisarTpComponente.pesquisar()}">
					</p:ajax>
					
				</p:inputText>
				
				<p:selectOneMenu 	id			=	"selOneSituacao" 
									style		=	"with:100%" 
									required	=	"true"
									value		=	"#{mbPesquisarTpComponente.intSituacao}">
					
					<p:ajax 		update 		=	"panelGridTable"
									listener	=	"#{mbPesquisarTpComponente.pesquisar()}"
									immediate	=	"true">
					</p:ajax>
					
					<f:selectItems value	=	"#{mbPesquisarTpComponente.itemSituacao}" ></f:selectItems>
									
				</p:selectOneMenu>
							
			</h:panelGrid>
			
        	<h:panelGrid id="panelGridTable">
        		
        		 <p:dataTable 	var					=	"tipoComponente" 
        		 				value				=	"#{mbPesquisarTpComponente.objectList}" 
        		 			  	id					=	"tablePesquisa"
        		 			  	emptyMessage		=	"Nenhum registro"
        		 			  	paginator			=	"true"
        		 			  	rows				=	"10"
        		 			  	selectionMode		=	"single"
        		 			  	rowKey				=	"#{tipoComponente.idTipoComponente}"
        		 			  	selection			=	"#{mbPesquisarTpComponente.objetoSelecionado}"
        		 			  	paginatorPosition	=	"bottom"
								scrollable			=	"true"
	   		 			  		scrollHeight		=	"250"
        		 			  	>
	
					<p:ajax event		=	"rowSelect"
							listener	=	"#{mbPesquisarTpComponente.setarObjetoSelecionado()}"
					/>
                	
                	<p:column headerText	=	"Descrição">
                    	<h:outputText value	=	"#{tipoComponente.descricao}" />
                	</p:column>

                	<p:column headerText	=	"Nome componente">
                    	<h:outputText value	=	"#{tipoComponente.nomeComponente}" />
                	</p:column>
                	
                	<p:column headerText	=	"Situação" 		   width	=	"60">
                    	<h:outputText value	=	"#{tipoComponente.status ? 'Ativo' : 'Inativo' } " />
                	</p:column>
                	
                </p:dataTable>
                
        	</h:panelGrid>
        		
        </h:form>
        
	</h:body>
	
</html>
