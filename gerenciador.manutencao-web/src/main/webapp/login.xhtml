<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

    <h:head>
    
    	<link rel="shortcut icon" type="image/x-icon" href="#{resource['gmp/images/favicon.png']}" />
    	
        <f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
            <meta name="apple-mobile-web-app-capable" content="yes" />
			<meta name="theme-color" content="#8e24aa"/>
			<meta name="msapplication-navbutton-color" content="#8e24aa"/>
			<meta name="apple-mobile-web-app-status-bar-style" content="#8e24aa"/>
        </f:facet>
        <title>G.M.P. - Login</title>
        <ui:insert name="head" />
    </h:head>

    <h:body styleClass="loginbodypurple">
        
	<style type="text/css">
        	.Wid95 {
        		width: 95% !important;
        	}
        </style>
		
        <div class="Wid90 DispBlock MarAuto MarTopPerc5 TexAlCenter">
            
            <div class="Wid40 MarAuto WidAutoOnMobile">
            
                <h:graphicImage name	=	"images/logo_yellow.svg" 
                				library	=	"gmp" 


                				style	=	"width:40%; max-width:200px;"/>
                				
                <div class="EmptyBox30"/>
				
				<h:form id	=	"formLogin">
				
					<p:growl id			=	"messages" 
							 autoUpdate	=	"true" />
					
					<!-- Login-->
					<p:panel	id 			= 	"panelLogin"
								style		=	"border:0px none !important;background:none !important"
								rendered	=	"#{mbLogin.showLogin}">
									
						<div class	=	"Card ShadowEffect">
						
							<div class	=	"EmptyBox20" />
							
							<div class	=	"Wid100 OvHidden BigTopic Fs30">
								<i class	=	"fa fa-lock Fs30"/> LOGIN 
							</div>
							
							<div class	=	"EmptyBox20" />
							

							<p:panelGrid 	columns			=	"1" 
											columnClasses	=	"ui-grid-col-12" 
											layout			=	"grid" 
											styleClass		=	"ui-panelgrid-blank ui-fluid">
										
										
								<p:inputText placeholder	=	"Crachá"
											 styleClass		=	"TexAlCenter Fs18 Wid95"
											 value			=	"#{mbLogin.cracha}" 
											 onkeypress		=	"return isNumberKey(event)"
											 converter		=	"javax.faces.Integer"
											 required		=	"true"
				               				 requiredMessage=	"Informe o seu crachá"/>

							




								<p:inputText type			=	"password" 
											 placeholder	=	"Senha"
											 styleClass		=	"TexAlCenter Fs18 Wid95"
											 value			=	"#{mbLogin.senha}" 
											 required		=	"true"
											 requiredMessage=	"Informe a sua senha"/>
								


								<div class	=	"EmptyBox30" />
				

								
								<p:commandButton value			=	"Entrar" 
										  		 icon			=	"fa fa-sign-in"
										  		 styleClass		=	"PurpleButton Fs18 White RaisedButton Wid95" 
										  		 action			=	"#{mbLogin.autenticar()}"
										  		 update			=	"formLogin"

										  		 process		=	"@form"/>
							

				

								
								<p:commandButton value			=	"Esqueceu sua senha?" 
										  		 styleClass		=	"RedButton Fs18 White RaisedButton Wid95"
										  		 icon			=	"fa fa-lock"
										  		 update			=	"#{mbLogin.panelsLogin}"
										  		 immediate		=	"true" >
									
									<f:setPropertyActionListener value	=	"#{false}" 
																 target	=	"#{mbLogin.showLogin}" />
									
									<f:setPropertyActionListener value	=	"#{true}" 
																 target	=	"#{mbLogin.showEsqueciSenha}" />
																		 
								</p:commandButton>
								






								<p:commandButton value			=	"Redefinir Senha" 
										  		 styleClass		=	"OrangeButton Fs18 White RaisedButton Wid95" 
										  		 icon			=	"fa fa-refresh"
										  		 process		=	"@this"
										  		 update			=	"#{mbLogin.panelsLogin}" >
									
									<f:setPropertyActionListener value	=	"#{false}" 
																 target	=	"#{mbLogin.showLogin}" />
									
									<f:setPropertyActionListener value	=	"#{true}" 
																 target	=	"#{mbLogin.showRedefinirSenha}" />
																		 
								</p:commandButton>
								

							</p:panelGrid>
								
							<div class	=	"EmptyBox20" />
							
						</div>
						
					</p:panel>
					
					<!-- Esqueci a Senha -->
					<p:panel	id 			= 	"panelEsqueciSenha"
								style		=	"border:0px none !important;background:none !important"
								rendered	=	"#{mbLogin.showEsqueciSenha}">
					                	
						<div class	=	"Card ShadowEffect">
							
							<div class	=	"EmptyBox20" />
							
							<div class	=	"Wid100 OvHidden BigTopic Fs30">
								<i class	=	"fa fa-support Fs30"/> ESQUECI MINHA SENHA 
							</div>
							
							
							<div class	=	"EmptyBox20" />
							

							<p:panelGrid 	columns			=	"1" 
											columnClasses	=	"ui-grid-col-12" 
											layout			=	"grid" 
											styleClass		=	"ui-panelgrid-blank ui-fluid">
											
								
								<p:inputText placeholder	=	"Crachá"
											 styleClass		=	"TexAlCenter Fs18 Wid95" 
											 onkeypress		=	"return isNumberKey(event)"
											 converter		=	"javax.faces.Integer"
											 value			=	"#{mbLogin.crachaAjuda}"
											 required		=	"true"
				               				 requiredMessage=	"O crachá deve ser informado."/>
								

								
								<div class	=	"EmptyBox30" />
								

									
								<p:commandButton value			=	"Enviar Código de Segurança" 
										  		 styleClass		=	"PurpleButton Fs18 White RaisedButton Wid95" 
										  		 actionListener	=	"#{mbLogin.enviarCodigo()}"
				               					 update			=	"#{mbLogin.panelsLogin}"/>
											  

								

												

								<p:commandButton value			=	"Já Tenho o Código" 
										  		 styleClass		=	"PurpleButton Fs18 White RaisedButton Wid95" 
										  		 update			=	"#{mbLogin.panelsLogin}" >
									
									<f:setPropertyActionListener value	=	"#{false}" 
																 target	=	"#{mbLogin.showEsqueciSenha}" />
									
									<f:setPropertyActionListener value	=	"#{true}" 
																 target	=	"#{mbLogin.showRedefinirSenhaCodigo}" />
																		 
								</p:commandButton>
								
								<p:commandButton value			=	"Voltar" 
										  		 styleClass		=	"PurpleButton Fs18 White RaisedButton Wid95"
										  		 update			=	"#{mbLogin.panelsLogin}" 
										  		 immediate		=	"true">
									
									<f:setPropertyActionListener value	=	"#{true}" 
																 target	=	"#{mbLogin.showLogin}" />
									
									<f:setPropertyActionListener value	=	"#{false}" 
																 target	=	"#{mbLogin.showEsqueciSenha}" />
																		 
								</p:commandButton>
								












								

							</p:panelGrid>
								
							<div class	=	"EmptyBox20" />
							
						</div>
					                	
					</p:panel>
					
					<!-- Redefinir Senha -->
					<p:panel	id 			=	"panelRedefinir"
								rendered	= 	"#{mbLogin.showRedefinirSenha}"
								style		=	"border:0px none;background:none">
						
						<div class	=	"Card ShadowEffect">
							
							<div class	=	"EmptyBox20" />
							
							<div class	=	"Wid100 OvHidden BigTopic Fs30">
								<i class	=	"fa fa-refresh Fs30"/> REDEFINIR SENHA 
							</div>
							
							<div class	=	"EmptyBox20" />
							

							
							<p:panelGrid 	columns			=	"1" 
											columnClasses	=	"ui-grid-col-12" 
											layout			=	"grid" 
											styleClass		=	"ui-panelgrid-blank ui-fluid">
					           
					           	<p:inputText value			=	"#{mbLogin.crachaAjuda}"
								 			 id				=	"crachaRedefinir"
					           				 placeholder	=	"Crachá" 
					           				 onkeypress		=	"return isNumberKey(event)" 
											 converter		=	"javax.faces.Integer"
					           				 styleClass		=	"TexAlCenter Fs18 Wid95"
					           				 required		=	"true"
					           				 requiredMessage=	"O crachá deve ser informado."/>
					        






						        <p:password value			=	"#{mbLogin.senhaAjuda}"
						        			id				= 	"senhaRedefnir" 
						        			placeholder		=	"Senha Atual"
											styleClass		=	"TexAlCenter Fs18 Wid95"
											feedback		=	"false"
											required		=	"true"
											requiredMessage	=	"A senha atual deve ser informada."/>





						    	
						    	<p:password value			=	"#{mbLogin.novaSenha}"
						    				id				= 	"novaSenhaRedefnir"
						    				placeholder		=	"Nova Senha"
						    				styleClass		=	"TexAlCenter Fs18 Wid95"
						    				feedback		=	"false"
						    				required		=	"true"
						    				validator		=	"senhaValidator"
						    				requiredMessage	=	"A nova senha deve ser informada."/>





					        
								<p:password value			=	"#{mbLogin.confirmacaoNovaSenha}"
						                	id				= 	"confirmacaoSenhaRedefnir"
						                	placeholder		=	"Confirmar Senha"
						                	styleClass		=	"TexAlCenter Fs18 Wid95"
						                	feedback		=	"false"
						                	required		=	"true"
						                	requiredMessage	=	"A confirmação da senha deve ser informada."/>

					        
					        	
					        	<div class="EmptyBox20"/>
							

								
								<p:commandButton value				=	"Redefinir"
							                	 styleClass			=	"PurpleButton Fs18 White RaisedButton Wid95"
							                	 actionListener		=	"#{mbLogin.salvarRedefinicaoSenha()}"
							                	 update				=	"#{mbLogin.panelsLogin}"/>
							                	 



							

							
				               	<p:commandButton value				=	"Voltar"
				               					 styleClass			=	"PurpleButton Fs18 White RaisedButton Wid95"
				               					 update				=	"#{mbLogin.panelsLogin}"
				               					 immediate			=	"true">
					                		
				           			<f:setPropertyActionListener value	=	"#{true}" 
													 			 target	=	"#{mbLogin.showLogin}" />
									
									<f:setPropertyActionListener value	=	"#{false}" 
													 			 target	=	"#{mbLogin.showRedefinirSenha}" />
								
								</p:commandButton>
								

							</p:panelGrid>
					                	
							<div class="EmptyBox20"/>
				                	
						</div>
				                	
					</p:panel>
	               	
	               	<!-- Redefinir Senha Código -->
	               	<p:panel	id 			=	"panelRedefinirSenhaCodigo"
			       			rendered	= 	"#{mbLogin.showRedefinirSenhaCodigo}"
			       			style		=	"border:0px none;background:none">
			       			
			       		
			       		<div class	=	"Card ShadowEffect ui-fluid">

							<p:panelGrid 	columns			=	"1" 
											columnClasses	=	"ui-grid-col-12" 
											layout			=	"grid" 
											styleClass		=	"ui-panelgrid-blank">
							
					       		<div class	=	"EmptyBox20" />
								
								<div class	=	"Wid100 OvHidden BigTopic Fs30">
									<i class	=	"fa fa-asterisk Fs30"/> REDEFINIR SENHA COM CÓDIGO
								</div>
								
								<div class	=	"EmptyBox20" />
						       	


						       	<p:inputText 	value			=	"#{mbLogin.codigoSeguranca}"
										 		id				=	"codigoSeguranca"
										 		placeholder		=	"Código de Segurança" 
										 		onkeypress		=	"return isNumberKey(event)" 
										 		converter		=	"javax.faces.Integer"
										 		styleClass		=	"TexAlCenter Fs18 Wid95"
										 		required		=	"true"
										 		requiredMessage	=	"O código de segurança deve ser informado."/>		
						               	






						        <p:password value			=	"#{mbLogin.novaSenha}"
						        			id				= 	"novaSenhaRemember" 
						        			placeholder		=	"Nova Senha" 
						        			validator		=	"senhaValidator"
						        			styleClass		=	"TexAlCenter Fs18 Wid95" 
						        			feedback		=	"false"
						        			required		=	"true"
						        			requiredMessage	=	"A nova senha deve ser informada."/>



		

							        
						        <p:password value			=	"#{mbLogin.confirmacaoNovaSenha}"
						        			id				= 	"confirmarSenhaRemember" 
						        			placeholder		=	"Confirmar Senha" 
						        			styleClass		=	"TexAlCenter Fs18 Wid95" 
						        			feedback		=	"false"
						        			required		=	"true"
						        			requiredMessage	=	"A confirmação da senha deve ser informada."/>
					        			





						        <div class="EmptyBox10"/>
					        
						        <p:commandButton value				=	"Redefinir Senha"
						        				 styleClass			=	"PurpleButton Fs18 White RaisedButton Wid95"
						        				 actionListener		=	"#{mbLogin.salvarRedefinicaoSenhaCodigo()}"
						        				 update				=	"#{mbLogin.panelsLogin}"/>
	





					        
						        <p:commandButton value				=	"Voltar"
						        				 styleClass			=	"PurpleButton Fs18 White RaisedButton Wid95"
						        				 update				=	"#{mbLogin.panelsLogin}"
						        				 immediate			=	"true">
					        
					        	<f:setPropertyActionListener value	=	"#{true}" 
					        								 target	=	"#{mbLogin.showEsqueciSenha}" />
					        	<f:setPropertyActionListener value	=	"#{false}" 
					        								 target	=	"#{mbLogin.showRedefinirSenhaCodigo}" />
								</p:commandButton>
					        

							</p:panelGrid>
					        
					        <div class="EmptyBox20"/>
			        
			    		</div>
			        	       	
			   		</p:panel>
					
					<p:dialog id			=	"dlg"
	                		  header		=	"Expiração de Senha" 
	                		  widgetVar		=	"dlgAlerta"
	                		  draggable		=	"false"
	                		  modal			=	"true"
	                		  closable		=	"false">
					    	
					    	<p:outputLabel value			=	"#{mbLogin.msgAlerta}"
					    				   styleClass		=	"Fs16"/>
							
							<div class="EmptyBox30"/>	
					    	
					    	<p:commandButton value			=	"OK, prosseguir"
					    					 ajax			=	"false"
					    					 immediate		=	"true"
			                				 action			=	"#{mbLogin.redirect()}"
			                				 styleClass		=	"Wid50"/>
					</p:dialog>
	                
	                
	                <p:dialog id			=	"dlgRedefinicao"
	                		  header		=	"Redefinição de Senha" 
	                		  widgetVar		=	"dlgRedefinicaoSenha"
	                		  modal			=	"true" 
	                		  closable		=	"true">
					    	
					    	<p:outputLabel value			=	"#{mbLogin.msgAlerta}"
					    				   styleClass		=	"Fs16"/>
							
							<div class="EmptyBox10"/>	
					    	
					    	
					</p:dialog>
					
					<p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />
					
					<ui:include src="/componentes/status-dialog/statusdialog.xhtml" />
					
				</h:form>
			
            </div>
            
        </div>
        
        <h:outputStylesheet name="css/core-layout.css" 		library="rio-layout" />
        <h:outputStylesheet name="css/animate.css" 			library="rio-layout" />
        <h:outputStylesheet name="css/rio-font.css" 		library="rio-layout" />
        <h:outputStylesheet name="css/ripple-effect.css" 	library="rio-layout" />
        <h:outputStylesheet name="css/font-awesome.css" 	library="rio-layout" />
        <h:outputStylesheet name="css/rio-layout.css" 		library="rio-layout" />
        <h:outputStylesheet name="css/gmp.css" 				library="gmp" />
        <h:outputStylesheet name="css/font-awesome-animation.min.css" library="gmp" />

        
    </h:body>

</html>